{
  "nodes": [
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [-16, 96],
      "id": "ca1ca89a-c377-4152-aeff-8de281a46779",
      "name": "When chat message received",
      "webhookId": "9c9c12a8-230f-41ef-99d9-b7e2e877a11a"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [328, 96],
      "id": "b737c561-665e-40ec-8e8a-83a961999fb9",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5-mini",
          "mode": "list",
          "cachedResultName": "gpt-5-mini"
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [208, 320],
      "id": "9208e0ee-2fa1-4065-aa47-0332722817d7",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "WsTl7P2P0KpsU5KM",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "operation": "getJobStatus",
        "jobId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Job_ID', ``, 'string') }}"
      },
      "type": "CUSTOM.fireflyServicesTool",
      "typeVersion": 1,
      "position": [464, 320],
      "id": "fc7058d6-935a-4576-a3eb-b99d68f4181e",
      "name": "Gen Image Job Status",
      "credentials": {
        "fireflyServicesApi": {
          "id": "FCkqkLfuqPOyRdv4",
          "name": "Firefly Services account"
        }
      }
    },
    {
      "parameters": {
        "prompt": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', ``, 'string') }}",
        "additionalOptions": {
          "numVariations": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Number_of_Variations', ``, 'number') }}",
          "negativePrompt": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Negative_Prompt', ``, 'string') }}"
        }
      },
      "type": "CUSTOM.fireflyServicesTool",
      "typeVersion": 1,
      "position": [592, 320],
      "id": "1666b83a-658d-43d6-aa35-2c2c51ce16a0",
      "name": "Gen Image",
      "credentials": {
        "fireflyServicesApi": {
          "id": "FCkqkLfuqPOyRdv4",
          "name": "Firefly Services account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "my-key"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [336, 320],
      "id": "64ee1b0d-6c2d-401a-8b84-962724a5059b",
      "name": "Simple Memory"
    }
  ],
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gen Image Job Status": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Gen Image": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "f32a6dab1cb21d21c71dc98697cfca18dbb21ac762a44e185b905684a8455836"
  }
}
